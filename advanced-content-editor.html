<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Website Content Editor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .editor-panel {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .preview-panel {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 20px;
            max-height: 80vh;
            overflow-y: auto;
        }
        .section-editor {
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            background: #fafafa;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .section-title {
            font-weight: bold;
            color: #2a7ae2;
            margin: 0;
        }
        .section-controls {
            display: flex;
            gap: 10px;
        }
        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        .btn-primary {
            background: #2a7ae2;
            color: white;
        }
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        .btn-success {
            background: #28a745;
            color: white;
        }
        .form-group {
            margin: 10px 0;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-group textarea {
            height: 80px;
            resize: vertical;
        }
        .form-group textarea.large {
            height: 120px;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .color-picker {
            width: 50px;
            height: 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .add-section {
            background: #e8f5e8;
            border: 2px dashed #28a745;
            border-radius: 6px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
        }
        .add-section select {
            margin: 10px;
            padding: 8px;
        }
        .code-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            overflow-x: auto;
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
        }
        .preview-content {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #111;
        }
        .preview-content h1 {
            color: #2a7ae2;
            margin-bottom: 10px;
        }
        .preview-content h2 {
            color: #424242;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        .preview-content h3 {
            color: #424242;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .preview-content ul, .preview-content ol {
            margin-left: 20px;
        }
        .preview-content li {
            margin-bottom: 5px;
        }
        .preview-content .contact-info {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .preview-content .header-section {
            display: flex;
            align-items: center;
            gap: 20px;
            border-bottom: 1px solid #e8e8e8;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .preview-content .profile-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #2a7ae2;
        }
        .preview-content .nav-section {
            margin: 20px 0;
        }
        .preview-content .nav-section a {
            display: inline-block;
            margin-right: 20px;
            color: #2a7ae2;
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid #e8e8e8;
            border-radius: 3px;
        }
        .preview-content .nav-section a:hover {
            background-color: #f0f0f0;
        }
        .export-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
        }
        .export-section h3 {
            margin-top: 0;
            color: #856404;
        }
        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>üé® Advanced Website Content Editor</h1>
    <p>Complete freedom to customize your academic website. Add, edit, remove, and style any section!</p>
    
    <div class="editor-container">
        <div class="editor-panel">
            <h2>üìù Content Editor</h2>
            
            <!-- Header Section -->
            <div class="section-editor" id="header-section">
                <div class="section-header">
                    <h3 class="section-title">Header Section</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('header-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Your Name:</label>
                    <input type="text" id="header-name" value="Tianruo You" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Your Title:</label>
                    <input type="text" id="header-title" value="Mathematics Student at UC Berkeley" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Profile Image URL:</label>
                    <input type="text" id="header-image" value="https://via.placeholder.com/120x120/2a7ae2/ffffff?text=Tianruo+You" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Header Color:</label>
                    <input type="color" class="color-picker" id="header-color" value="#2a7ae2" oninput="updatePreview()">
                </div>
            </div>

            <!-- Navigation Section -->
            <div class="section-editor" id="nav-section">
                <div class="section-header">
                    <h3 class="section-title">Navigation Menu</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('nav-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Navigation Links (one per line):</label>
                    <textarea id="nav-links" oninput="updatePreview()">About
Research
Education
Contact</textarea>
                </div>
            </div>

            <!-- About Section -->
            <div class="section-editor" id="about-section">
                <div class="section-header">
                    <h3 class="section-title">About Me Section</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('about-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="about-title" value="About Me" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>About Content:</label>
                    <textarea class="large" id="about-content" oninput="updatePreview()">I am Tianruo You, a mathematics student at UC Berkeley with research interests in topology, differential geometry, and computational mathematics. I am currently pursuing my Bachelor of Arts in Mathematics at UC Berkeley, where I maintain a perfect 4.00 GPA.

My academic journey has taken me through multiple prestigious institutions, including Vanderbilt University and UC Santa Barbara, where I also achieved perfect GPAs in mathematics programs. My research focuses on exploring fundamental concepts in topology and differential geometry, particularly through the lens of degree theory and its applications to classical results like the Hairy Ball Theorem.</textarea>
                </div>
            </div>

            <!-- Research Interests Section -->
            <div class="section-editor" id="research-section">
                <div class="section-header">
                    <h3 class="section-title">Research Interests</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('research-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="research-title" value="Research Interests" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Research Interests (one per line, format: "Title: Description"):</label>
                    <textarea class="large" id="research-interests" oninput="updatePreview()">Topology: Degree theory, algebraic topology methods, and topological obstructions
Differential Geometry: Vector fields on manifolds and geometric structures
Computational Mathematics: Stochastic processes, fluid-structure interactions, and computer vision applications
Applied Mathematics: Cryptocurrency modeling, computational morphometrics, and digital humanities</textarea>
                </div>
            </div>

            <!-- Current Research Projects -->
            <div class="section-editor" id="projects-section">
                <div class="section-header">
                    <h3 class="section-title">Current Research Projects</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('projects-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="projects-title" value="Current Research Projects" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Projects (one per line):</label>
                    <textarea class="large" id="projects-list" oninput="updatePreview()">Hairy Ball Theorem and Degree Theory Exploration - Research under Galen Liang at UC Berkeley (Aug. 2025 - Present)
NSF Big-Bee Project: Trait Digitalization of Anthophila - UC Santa Barbara & UC Berkeley (Aug. 2023 - Present)
Syriac Text Digitalization and Database Development - Vanderbilt University (Aug. 2024 - May. 2025)</textarea>
                </div>
            </div>

            <!-- Education Section -->
            <div class="section-editor" id="education-section">
                <div class="section-header">
                    <h3 class="section-title">Education</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('education-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="education-title" value="Education" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Education Entries (one per line):</label>
                    <textarea class="large" id="education-list" oninput="updatePreview()">UC Berkeley - Bachelor of Arts in Mathematics, GPA: 4.00 (Aug. 2025 ‚Äì Jun. 2026, Expected)
Vanderbilt University - Bachelor of Arts in Mathematics, GPA: 4.00 (Aug. 2024 ‚Äì May. 2025)
UC Santa Barbara - Bachelor of Arts in Applied Mathematics, GPA: 4.00 (Sep. 2023 ‚Äì Jun. 2024)</textarea>
                </div>
                <div class="form-group">
                    <label>Relevant Coursework:</label>
                    <input type="text" id="coursework" value="Advanced Matrix Computations, Advanced Linear Algebra, Abstract Algebra, Real Analysis, Differential Geometry, Topology." oninput="updatePreview()">
                </div>
            </div>

            <!-- Contact Section -->
            <div class="section-editor" id="contact-section">
                <div class="section-header">
                    <h3 class="section-title">Contact Information</h3>
                    <div class="section-controls">
                        <button class="btn btn-secondary" onclick="toggleSection('contact-section')">Hide</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="contact-title" value="Contact Information" oninput="updatePreview()">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="text" id="contact-email" value="tianruo.you@berkeley.edu" oninput="updatePreview()">
                    </div>
                    <div class="form-group">
                        <label>Phone:</label>
                        <input type="text" id="contact-phone" value="+1 (805) 724-9206" oninput="updatePreview()">
                    </div>
                </div>
                <div class="form-group">
                    <label>Address:</label>
                    <input type="text" id="contact-address" value="730 Kinkead Way, Albany, CA 94706" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>Website:</label>
                    <input type="text" id="contact-website" value="http://www.youtianruo.com" oninput="updatePreview()">
                </div>
            </div>

            <!-- Add New Section -->
            <div class="add-section">
                <h3>‚ûï Add New Section</h3>
                <select id="new-section-type">
                    <option value="text">Text Section</option>
                    <option value="list">List Section</option>
                    <option value="contact">Contact Section</option>
                    <option value="projects">Projects Section</option>
                </select>
                <br>
                <button class="btn btn-success" onclick="addNewSection()">Add Section</button>
            </div>

            <!-- Export Section -->
            <div class="export-section">
                <h3>üì§ Export Your Website</h3>
                <p>Copy the generated HTML code and replace your index.html file:</p>
                <div class="export-buttons">
                    <button class="btn btn-primary" onclick="copyFullHTML()">Copy Full HTML</button>
                    <button class="btn btn-secondary" onclick="downloadHTML()">Download HTML</button>
                </div>
                <div class="code-output" id="full-html-output"></div>
            </div>
        </div>

        <div class="preview-panel">
            <h2>üëÅÔ∏è Live Preview</h2>
            <div class="preview-content" id="preview-content">
                <!-- Preview content will be generated here -->
            </div>
        </div>
    </div>

    <script>
        let customSections = [];
        let sectionCounter = 0;

        function updatePreview() {
            const preview = document.getElementById('preview-content');
            let html = '';

            // Header Section
            if (!document.getElementById('header-section').classList.contains('hidden')) {
                const name = document.getElementById('header-name').value;
                const title = document.getElementById('header-title').value;
                const image = document.getElementById('header-image').value;
                const color = document.getElementById('header-color').value;
                
                html += `
                    <div class="header-section">
                        <img src="${image}" alt="${name}" class="profile-image">
                        <div>
                            <h1 style="color: ${color}">${name}</h1>
                            <p>${title}</p>
                        </div>
                    </div>
                `;
            }

            // Navigation Section
            if (!document.getElementById('nav-section').classList.contains('hidden')) {
                const navLinks = document.getElementById('nav-links').value.split('\n').filter(link => link.trim());
                html += '<div class="nav-section">';
                navLinks.forEach(link => {
                    const href = '#' + link.toLowerCase().replace(/\s+/g, '-');
                    html += `<a href="${href}">${link}</a>`;
                });
                html += '</div>';
            }

            // About Section
            if (!document.getElementById('about-section').classList.contains('hidden')) {
                const aboutTitle = document.getElementById('about-title').value;
                const aboutContent = document.getElementById('about-content').value;
                html += `
                    <section>
                        <h2>${aboutTitle}</h2>
                        ${aboutContent.split('\n\n').map(paragraph => `<p>${paragraph}</p>`).join('')}
                    </section>
                `;
            }

            // Research Interests Section
            if (!document.getElementById('research-section').classList.contains('hidden')) {
                const researchTitle = document.getElementById('research-title').value;
                const researchInterests = document.getElementById('research-interests').value.split('\n').filter(item => item.trim());
                html += `
                    <section>
                        <h2>${researchTitle}</h2>
                        <ul>
                            ${researchInterests.map(interest => {
                                const [title, description] = interest.split(':');
                                return `<li><strong>${title}</strong>: ${description}</li>`;
                            }).join('')}
                        </ul>
                    </section>
                `;
            }

            // Projects Section
            if (!document.getElementById('projects-section').classList.contains('hidden')) {
                const projectsTitle = document.getElementById('projects-title').value;
                const projectsList = document.getElementById('projects-list').value.split('\n').filter(item => item.trim());
                html += `
                    <section>
                        <h2>${projectsTitle}</h2>
                        <ol>
                            ${projectsList.map(project => `<li><strong>${project}</strong></li>`).join('')}
                        </ol>
                    </section>
                `;
            }

            // Education Section
            if (!document.getElementById('education-section').classList.contains('hidden')) {
                const educationTitle = document.getElementById('education-title').value;
                const educationList = document.getElementById('education-list').value.split('\n').filter(item => item.trim());
                const coursework = document.getElementById('coursework').value;
                html += `
                    <section>
                        <h2>${educationTitle}</h2>
                        <ul>
                            ${educationList.map(education => {
                                const [school, details] = education.split(' - ');
                                return `<li><strong>${school}</strong> - ${details}</li>`;
                            }).join('')}
                        </ul>
                        <h3>Relevant Coursework</h3>
                        <p>${coursework}</p>
                    </section>
                `;
            }

            // Contact Section
            if (!document.getElementById('contact-section').classList.contains('hidden')) {
                const contactTitle = document.getElementById('contact-title').value;
                const email = document.getElementById('contact-email').value;
                const phone = document.getElementById('contact-phone').value;
                const address = document.getElementById('contact-address').value;
                const website = document.getElementById('contact-website').value;
                html += `
                    <section>
                        <h2>${contactTitle}</h2>
                        <div class="contact-info">
                            <p><strong>Email:</strong> ${email}</p>
                            <p><strong>Phone:</strong> ${phone}</p>
                            <p><strong>Address:</strong> ${address}</p>
                            <p><strong>Website:</strong> <a href="${website}">${website}</a></p>
                        </div>
                    </section>
                `;
            }

            // Custom Sections
            customSections.forEach(section => {
                html += generateCustomSectionHTML(section);
            });

            preview.innerHTML = html;
            updateFullHTML();
        }

        function generateCustomSectionHTML(section) {
            let html = `<section id="custom-section-${section.id}">`;
            html += `<h2>${section.title}</h2>`;
            
            if (section.type === 'text') {
                html += `<p>${section.content}</p>`;
            } else if (section.type === 'list') {
                html += '<ul>';
                section.items.forEach(item => {
                    html += `<li>${item}</li>`;
                });
                html += '</ul>';
            } else if (section.type === 'contact') {
                html += '<div class="contact-info">';
                html += `<p><strong>Email:</strong> ${section.email}</p>`;
                html += `<p><strong>Phone:</strong> ${section.phone}</p>`;
                html += '</div>';
            } else if (section.type === 'projects') {
                html += '<ol>';
                section.projects.forEach(project => {
                    html += `<li><strong>${project}</strong></li>`;
                });
                html += '</ol>';
            }
            
            html += '</section>';
            return html;
        }

        function addNewSection() {
            const type = document.getElementById('new-section-type').value;
            const sectionId = `custom-${sectionCounter++}`;
            
            let section = {
                id: sectionId,
                type: type,
                title: 'New Section'
            };

            if (type === 'text') {
                section.content = 'Your content here...';
            } else if (type === 'list') {
                section.items = ['Item 1', 'Item 2', 'Item 3'];
            } else if (type === 'contact') {
                section.email = 'your.email@domain.com';
                section.phone = 'Your phone number';
            } else if (type === 'projects') {
                section.projects = ['Project 1', 'Project 2', 'Project 3'];
            }

            customSections.push(section);
            createCustomSectionEditor(section);
            updatePreview();
        }

        function createCustomSectionEditor(section) {
            const editorPanel = document.querySelector('.editor-panel');
            const addSectionDiv = document.querySelector('.add-section');
            
            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'section-editor';
            sectionDiv.id = `custom-section-${section.id}`;
            
            let content = `
                <div class="section-header">
                    <h3 class="section-title">${section.title}</h3>
                    <div class="section-controls">
                        <button class="btn btn-danger" onclick="removeCustomSection('${section.id}')">Remove</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" value="${section.title}" oninput="updateCustomSection('${section.id}', 'title', this.value)">
                </div>
            `;

            if (section.type === 'text') {
                content += `
                    <div class="form-group">
                        <label>Content:</label>
                        <textarea class="large" oninput="updateCustomSection('${section.id}', 'content', this.value)">${section.content}</textarea>
                    </div>
                `;
            } else if (section.type === 'list') {
                content += `
                    <div class="form-group">
                        <label>List Items (one per line):</label>
                        <textarea class="large" oninput="updateCustomSection('${section.id}', 'items', this.value.split('\\n'))">${section.items.join('\n')}</textarea>
                    </div>
                `;
            } else if (section.type === 'contact') {
                content += `
                    <div class="form-row">
                        <div class="form-group">
                            <label>Email:</label>
                            <input type="text" value="${section.email}" oninput="updateCustomSection('${section.id}', 'email', this.value)">
                        </div>
                        <div class="form-group">
                            <label>Phone:</label>
                            <input type="text" value="${section.phone}" oninput="updateCustomSection('${section.id}', 'phone', this.value)">
                        </div>
                    </div>
                `;
            } else if (section.type === 'projects') {
                content += `
                    <div class="form-group">
                        <label>Projects (one per line):</label>
                        <textarea class="large" oninput="updateCustomSection('${section.id}', 'projects', this.value.split('\\n'))">${section.projects.join('\n')}</textarea>
                    </div>
                `;
            }

            sectionDiv.innerHTML = content;
            editorPanel.insertBefore(sectionDiv, addSectionDiv);
        }

        function updateCustomSection(sectionId, field, value) {
            const section = customSections.find(s => s.id === sectionId);
            if (section) {
                section[field] = value;
                updatePreview();
            }
        }

        function removeCustomSection(sectionId) {
            customSections = customSections.filter(s => s.id !== sectionId);
            const sectionDiv = document.getElementById(`custom-section-${sectionId}`);
            if (sectionDiv) {
                sectionDiv.remove();
            }
            updatePreview();
        }

        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            section.classList.toggle('hidden');
            updatePreview();
        }

        function updateFullHTML() {
            const fullHTML = generateFullHTML();
            document.getElementById('full-html-output').textContent = fullHTML;
        }

        function generateFullHTML() {
            const name = document.getElementById('header-name').value;
            const title = document.getElementById('header-title').value;
            const image = document.getElementById('header-image').value;
            const color = document.getElementById('header-color').value;
            
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${name} - ${title}</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #fdfdfd;
            color: #111;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            border-bottom: 1px solid #e8e8e8;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h1 {
            color: ${color};
            margin-bottom: 10px;
        }
        h2 {
            color: #424242;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        nav {
            margin: 20px 0;
        }
        nav a {
            display: inline-block;
            margin-right: 20px;
            color: #2a7ae2;
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid #e8e8e8;
            border-radius: 3px;
        }
        nav a:hover {
            background-color: #f0f0f0;
        }
        .contact-info {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        ul, ol {
            margin-left: 20px;
        }
        li {
            margin-bottom: 5px;
        }
        footer {
            border-top: 1px solid #e8e8e8;
            margin-top: 40px;
            padding-top: 20px;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; align-items: center; gap: 20px;">
                <img src="${image}" alt="${name}" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid ${color};">
                <div>
                    <h1>${name}</h1>
                    <p>${title}</p>
                </div>
            </div>
        </header>

        <nav>
            ${document.getElementById('nav-links').value.split('\n').filter(link => link.trim()).map(link => {
                const href = '#' + link.toLowerCase().replace(/\s+/g, '-');
                return `<a href="${href}">${link}</a>`;
            }).join('')}
        </nav>

        ${generateSectionHTML('about-section', 'about-title', 'about-content')}
        ${generateSectionHTML('research-section', 'research-title', 'research-interests', 'ul')}
        ${generateSectionHTML('projects-section', 'projects-title', 'projects-list', 'ol')}
        ${generateEducationHTML()}
        ${generateContactHTML()}
        ${generateCustomSectionsHTML()}

        <footer>
            <p>&copy; 2025 ${name}. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>`;
        }

        function generateSectionHTML(sectionId, titleId, contentId, listType = null) {
            if (document.getElementById(sectionId).classList.contains('hidden')) return '';
            
            const title = document.getElementById(titleId).value;
            const content = document.getElementById(contentId).value;
            
            if (listType) {
                const items = content.split('\n').filter(item => item.trim());
                const listItems = items.map(item => {
                    if (contentId === 'research-interests') {
                        const [itemTitle, description] = item.split(':');
                        return `<li><strong>${itemTitle}</strong>: ${description}</li>`;
                    } else {
                        return `<li><strong>${item}</strong></li>`;
                    }
                }).join('');
                
                return `
                    <section>
                        <h2>${title}</h2>
                        <${listType}>
                            ${listItems}
                        </${listType}>
                    </section>
                `;
            } else {
                const paragraphs = content.split('\n\n').map(paragraph => `<p>${paragraph}</p>`).join('');
                return `
                    <section>
                        <h2>${title}</h2>
                        ${paragraphs}
                    </section>
                `;
            }
        }

        function generateEducationHTML() {
            if (document.getElementById('education-section').classList.contains('hidden')) return '';
            
            const title = document.getElementById('education-title').value;
            const educationList = document.getElementById('education-list').value.split('\n').filter(item => item.trim());
            const coursework = document.getElementById('coursework').value;
            
            const educationItems = educationList.map(education => {
                const [school, details] = education.split(' - ');
                return `<li><strong>${school}</strong> - ${details}</li>`;
            }).join('');
            
            return `
                <section>
                    <h2>${title}</h2>
                    <ul>
                        ${educationItems}
                    </ul>
                    <h3>Relevant Coursework</h3>
                    <p>${coursework}</p>
                </section>
            `;
        }

        function generateContactHTML() {
            if (document.getElementById('contact-section').classList.contains('hidden')) return '';
            
            const title = document.getElementById('contact-title').value;
            const email = document.getElementById('contact-email').value;
            const phone = document.getElementById('contact-phone').value;
            const address = document.getElementById('contact-address').value;
            const website = document.getElementById('contact-website').value;
            
            return `
                <section>
                    <h2>${title}</h2>
                    <div class="contact-info">
                        <p><strong>Email:</strong> ${email}</p>
                        <p><strong>Phone:</strong> ${phone}</p>
                        <p><strong>Address:</strong> ${address}</p>
                        <p><strong>Website:</strong> <a href="${website}">${website}</a></p>
                    </div>
                </section>
            `;
        }

        function generateCustomSectionsHTML() {
            return customSections.map(section => generateCustomSectionHTML(section)).join('');
        }

        function copyFullHTML() {
            const html = document.getElementById('full-html-output').textContent;
            navigator.clipboard.writeText(html).then(() => {
                alert('Full HTML copied to clipboard!');
            }).catch(() => {
                alert('Please copy the HTML manually from the code output above.');
            });
        }

        function downloadHTML() {
            const html = document.getElementById('full-html-output').textContent;
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'index.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialize preview
        updatePreview();
    </script>
</body>
</html>
